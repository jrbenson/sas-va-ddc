var ddc=function(e){"use strict";var t;function n(e){var t=window.location!=window.parent.location?document.referrer:document.location.href;window.parent.postMessage(e,t)}return e.convertDateColumns=function(e){if(e)for(var t=e.columns,n=e.data,r=0;r<t.length;r++){var o=t[r];if(o&&"date"==o.type)for(var a=0;a<n.length;a++){var i=n[a][r].trim();o.format&&"DDMMYY8"==o.format.formatString?i=i.substr(6)+"-"+i.substr(3,2)+"-"+i.substr(0,2):o.format&&"JULIAN7"==o.format.formatString||o.format&&"DATE9"==o.format.formatString&&(i=i.substr(0,2)+" "+i.substr(2,3)+" "+i.substr(5)),n[a][r]=new Date(i)}}},e.getUrlParams=function(e=""){var t={};return window.location.search.slice(window.location.search.indexOf("?")+1).split("&").forEach((function(e,n){-1===e.indexOf("=")?t[e]="":t[decodeURIComponent(e.substr(0,e.indexOf("=")))]=decodeURIComponent(e.substr(e.indexOf("=")+1))})),e?e in t?t[e]:null:t},e.getVAParameters=function(e){var t={};return e.parameters&&e.parameters.forEach((function(e){t[e.label]=e.value})),t},e.initializeSelections=function(e){if(!e)return null;var t=e.columns,n=e.data,r=[];if(t&&n)for(var o=0;o<t.length;o++)if(t[o].usage&&"brush"===t[o].usage){t.splice(o,1);for(var a=0;a<n.length;a++)0!==n[a][o]&&r.push({row:a}),n[a].splice(o,1)}return r},e.postInstructionalMessage=function(e,t){n({resultName:e,message:t})},e.postMessage=n,e.postSelectionMessage=function(e,t){let r=[];t&&t.length>0&&t[0].hasOwnProperty("row")?r=t:t.forEach((function(e){r.push({row:e})})),n({resultName:e,selections:r})},e.setOnDataReceivedCallback=function(e){window.addEventListener("message",t=>{t&&t.data&&t.data.hasOwnProperty("data")&&e(t.data)},!1)},e.setupResizeListener=function(e){const n=document.createEvent("Event");n.initEvent("resizeEndEvent",!1,!0),window.addEventListener("resizeEndEvent",(function(){e()})),window.addEventListener("resize",(function(){t&&clearTimeout(t),t=setTimeout((function(){window.dispatchEvent(n)}),25)}))},e.validateRoles=function(e,t,n){const r=e.columns,o=r.length;if(o<t.length)return!1;for(let e=0;e<t.length;e++)if(r[e].type!==t[e])return!1;if(o>t.length){if(null===n)return!1;if("object"==typeof n){for(let e=t.length,a=0;e<o&&a<n.length;e++,a++)if(r[e].type!==n[a])return!1}else for(let e=t.length;e<o;e++)if(r[e].type!==n)return!1}return!0},e}({});
