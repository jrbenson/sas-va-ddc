<!DOCTYPE html>
<html lang='en-US'>
<head>
	<title>Floorplan Map</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css" />
	<style>
  	html, body { 
  		margin: 0;
  		padding: 0;
  		overflow: hidden;
  	}
	svg {
		position:fixed;
		top:0;
		left:0;
		height:100%;
		width:100%;
	}
	.qtip-bootstrap {
		font-family: sans-serif;
	}
	</style>
</head>
<body>

<svg viewBox="0 0 3300 6571.9">
<style type="text/css">
	.st0{fill:#E6E7E8;stroke:#000000;stroke-width:2;stroke-miterlimit:10;}
	.st1{fill:#BCBEC0;stroke:#000000;stroke-width:2;stroke-miterlimit:10;}
	.st2{font-family:'MyriadPro-Regular';}
	.st3{font-size:120px;}
	.st4{opacity:0.5;}
	.st5{opacity:0.3;}
	.st6{fill:#FFFFFF;stroke:#000000;stroke-width:2;stroke-miterlimit:10;}
</style>
<g id="Background">
	<polygon id="background_3" class="st0" points="3227.9,2111.3 75,2111.3 75,228 3227.9,228 3227.9,2111.3 	"/>
	<polygon id="background_2" class="st0" points="3227.9,4291.6 75,4291.6 75,2408.2 3227.9,2408.2 3227.9,4291.6 	"/>
	<polygon id="background_1" class="st0" points="3227.9,6498.8 75,6498.8 75,4615.4 3227.9,4615.4 3227.9,6498.8 	"/>
</g>
<g id="Rooms">
	<polygon id="room_1060" class="st1" points="873.1,5301.3 115,5301.3 115,4655.4 873.1,4655.4 873.1,5301.3 	"/>
	<polygon id="room_1070" class="st1" points="360.6,5468.6 115,5468.6 115,5301.3 360.6,5301.3 360.6,5468.6 	"/>
	<polygon id="room_1080" class="st1" points="360.6,6143.7 115,6143.7 115,5468.6 360.6,5468.6 360.6,6143.7 	"/>
	<polygon id="room_1090" class="st1" points="360.6,6455.4 115,6455.4 115,6143.7 360.6,6143.7 360.6,6455.4 	"/>
	<polygon id="room_1100" class="st1" points="560.1,6202.5 360.6,6202.5 360.6,6455.4 560.1,6455.4 560.1,6202.5 	"/>
	<polygon id="room_1110" class="st1" points="881.2,6202.5 560.1,6202.5 560.1,6455.4 881.2,6455.4 881.2,6202.5 	"/>
	<polygon id="room_1050" class="st1" points="2290.7,5235.4 1088.4,5235.4 1088.4,4655.4 2290.7,4655.4 2290.7,5235.4 	"/>
	<polygon id="room_1000" class="st1" points="2543.4,6203.8 3185,6203.8 3185,4655.4 2543.4,4655.4 2543.4,6203.8 	"/>
	<polygon id="room_1020" class="st1" points="2864.2,6455.4 3185,6455.4 3185,6203.8 2864.2,6203.8 2864.2,6455.4 	"/>
	<polygon id="room_1010" class="st1" points="2864.2,6455.4 2543.4,6455.4 2543.4,6203.8 2864.2,6203.8 2864.2,6455.4 	"/>
	<polygon id="room_1SA" class="st1" points="2410.2,5720.8 2543.4,5720.8 2543.4,5410.9 2410.2,5410.9 2410.2,5720.8 	"/>
	<polygon id="room_1030" class="st1" points="1902.4,5720.8 1331.1,5720.8 1331.1,6116.6 1902.4,6116.6 1902.4,5720.8 	"/>
	<polygon id="room_1UA" class="st1" points="2034.9,5720.8 1902.4,5720.8 1902.4,6116.6 2034.9,6116.6 2034.9,5720.8 	"/>
	<polygon id="room_1TA" class="st1" points="1616.7,5565.9 2034.9,5565.9 2034.9,5720.8 1616.7,5720.8 1616.7,5565.9 	"/>
	<polygon id="room_1040" class="st1" points="1616.7,5410.9 2034.9,5410.9 2034.9,5565.9 1616.7,5565.9 1616.7,5410.9 	"/>
	<polygon id="room_1EA" class="st1" points="1206,5720.8 1616.7,5720.8 1616.7,5410.9 1206,5410.9 1206,5720.8 	"/>
	<polygon id="room_1EB" class="st1" points="849.4,5726.5 704.3,5726.5 704.3,5410.9 849.4,5410.9 849.4,5726.5 	"/>
	<polygon id="room_1SB" class="st1" points="961.5,5726.5 849.4,5726.5 849.4,5410.9 961.5,5410.9 961.5,5726.5 	"/>
	<polygon id="room_2100" class="st1" points="434.2,2713.6 115,2713.6 115,2448.2 434.2,2448.2 434.2,2713.6 	"/>
	<polygon id="room_2110" class="st1" points="629.3,2713.6 434.2,2713.6 434.2,2448.2 629.3,2448.2 629.3,2713.6 	"/>
	<polygon id="room_2120" class="st1" points="954.9,2713.6 629.3,2713.6 629.3,2448.2 954.9,2448.2 954.9,2713.6 	"/>
	<polygon id="room_2170" class="st1" points="2740.4,2713.6 2421.2,2713.6 2421.2,2448.2 2740.4,2448.2 2740.4,2713.6 	"/>
	<polygon id="room_2175" class="st1" points="2935.4,2713.6 2740.4,2713.6 2740.4,2448.2 2935.4,2448.2 2935.4,2713.6 	"/>
	<polygon id="room_2125" class="st1" points="1117.8,2713.6 954.9,2713.6 954.9,2448.2 1117.8,2448.2 1117.8,2713.6 	"/>
	<polygon id="room_2130" class="st1" points="1280.7,2713.6 1117.8,2713.6 1117.8,2448.2 1280.7,2448.2 1280.7,2713.6 	"/>
	<polygon id="room_2135" class="st1" points="1443.6,2713.6 1280.7,2713.6 1280.7,2448.2 1443.6,2448.2 1443.6,2713.6 	"/>
	<polygon id="room_2140" class="st1" points="1606.6,2713.6 1443.6,2713.6 1443.6,2448.2 1606.6,2448.2 1606.6,2713.6 	"/>
	<polygon id="room_2145" class="st1" points="1769.5,2713.6 1606.6,2713.6 1606.6,2448.2 1769.5,2448.2 1769.5,2713.6 	"/>
	<polygon id="room_2150" class="st1" points="1932.4,2713.6 1769.5,2713.6 1769.5,2448.2 1932.4,2448.2 1932.4,2713.6 	"/>
	<polygon id="room_2155" class="st1" points="2095.3,2713.6 1932.4,2713.6 1932.4,2448.2 2095.3,2448.2 2095.3,2713.6 	"/>
	<polygon id="room_2160" class="st1" points="2258.3,2713.6 2095.3,2713.6 2095.3,2448.2 2258.3,2448.2 2258.3,2713.6 	"/>
	<polygon id="room_2165" class="st1" points="2421.2,2713.6 2258.3,2713.6 2258.3,2448.2 2421.2,2448.2 2421.2,2713.6 	"/>
	<polygon id="room_2200" class="st1" points="2935.4,2778.3 3185,2778.3 3185,2448.2 2935.4,2448.2 2935.4,2778.3 	"/>
	<polygon id="room_2210" class="st1" points="2935.4,2940.3 3185,2940.3 3185,2778.3 2935.4,2778.3 2935.4,2940.3 	"/>
	<polygon id="room_2220" class="st1" points="2935.4,3102.4 3185,3102.4 3185,2940.3 2935.4,2940.3 2935.4,3102.4 	"/>
	<polygon id="room_2230" class="st1" points="2935.4,3264.5 3185,3264.5 3185,3102.4 2935.4,3102.4 2935.4,3264.5 	"/>
	<polygon id="room_2240" class="st1" points="2935.4,3426.6 3185,3426.6 3185,3264.5 2935.4,3264.5 2935.4,3426.6 	"/>
	<polygon id="room_2250" class="st1" points="2935.4,3588.7 3185,3588.7 3185,3426.6 2935.4,3426.6 2935.4,3588.7 	"/>
	<polygon id="room_2260" class="st1" points="2935.4,3750.7 3185,3750.7 3185,3588.7 2935.4,3588.7 2935.4,3750.7 	"/>
	<polygon id="room_2270" class="st1" points="2935.4,3995.9 3185,3995.9 3185,3750.7 2935.4,3750.7 2935.4,3995.9 	"/>
	<polygon id="room_2300" class="st1" points="2869.9,4248.2 3185,4248.2 3185,3995.9 2869.9,3995.9 2869.9,4248.2 	"/>
	<polygon id="room_2310" class="st1" points="2672.8,4248.2 2869.9,4248.2 2869.9,3995.9 2672.8,3995.9 2672.8,4248.2 	"/>
	<polygon id="room_2320" class="st1" points="2349.1,4248.2 2672.8,4248.2 2672.8,3995.9 2349.1,3995.9 2349.1,4248.2 	"/>
	<polygon id="room_2340" class="st1" points="2186.6,4248.2 2349.1,4248.2 2349.1,3995.9 2186.6,3995.9 2186.6,4248.2 	"/>
	<polygon id="room_2345" class="st1" points="2024.1,4248.2 2186.6,4248.2 2186.6,3995.9 2024.1,3995.9 2024.1,4248.2 	"/>
	<polygon id="room_2350" class="st1" points="1858.1,4248.2 2024.1,4248.2 2024.1,3995.9 1858.1,3995.9 1858.1,4248.2 	"/>
	<polygon id="room_2355" class="st1" points="1539.3,4248.2 1858.1,4248.2 1858.1,3995.9 1539.3,3995.9 1539.3,4248.2 	"/>
	<polygon id="room_2360" class="st1" points="1377.5,4248.2 1539.3,4248.2 1539.3,3995.9 1377.5,3995.9 1377.5,4248.2 	"/>
	<polygon id="room_2365" class="st1" points="887.9,4248.2 1377.5,4248.2 1377.5,3995.9 887.9,3995.9 887.9,4248.2 	"/>
	<polygon id="room_2370" class="st1" points="728.1,4248.2 887.9,4248.2 887.9,3995.9 728.1,3995.9 728.1,4248.2 	"/>
	<polygon id="room_2375" class="st1" points="568.4,4248.2 728.1,4248.2 728.1,3995.9 568.4,3995.9 568.4,4248.2 	"/>
	<polygon id="room_2380" class="st1" points="367.8,4248.2 568.4,4248.2 568.4,3995.9 367.8,3995.9 367.8,4248.2 	"/>
	<polygon id="room_2400" class="st1" points="367.8,3930.7 115,3930.7 115,4248.2 367.8,4248.2 367.8,3930.7 	"/>
	<polygon id="room_2410" class="st1" points="115,3735 367.8,3735 367.8,3930.7 115,3930.7 115,3735 	"/>
	<polygon id="room_2420" class="st1" points="115,3572.6 367.8,3572.6 367.8,3735 115,3735 115,3572.6 	"/>
	<polygon id="room_2430" class="st1" points="115,3410.2 367.8,3410.2 367.8,3572.6 115,3572.6 115,3410.2 	"/>
	<polygon id="room_2440" class="st1" points="115,3247.8 367.8,3247.8 367.8,3410.2 115,3410.2 115,3247.8 	"/>
	<polygon id="room_2450" class="st1" points="115,3085.3 367.8,3085.3 367.8,3247.8 115,3247.8 115,3085.3 	"/>
	<polygon id="room_2460" class="st1" points="367.8,2941.6 115,2941.6 115,3085.3 367.8,3085.3 367.8,2941.6 	"/>
	<polygon id="room_2470" class="st1" points="115,2713.6 367.8,2713.6 367.8,2941.6 115,2941.6 115,2713.6 	"/>
	<polygon id="room_2520" class="st1" points="704.3,2973.4 458.5,2973.4 458.5,2800.9 704.3,2800.9 704.3,2973.4 	"/>
	<polygon id="room_2515" class="st1" points="704.3,3169.6 458.5,3169.6 458.5,2973.4 704.3,2973.4 704.3,3169.6 	"/>
	<polygon id="room_2510" class="st1" points="704.3,3329 458.5,3329 458.5,3169.6 704.3,3169.6 704.3,3329 	"/>
	<polygon id="room_2505" class="st1" points="704.3,3491.4 458.5,3491.4 458.5,3329 704.3,3329 704.3,3491.4 	"/>
	<polygon id="room_2500" class="st1" points="704.3,3908.6 458.5,3908.6 458.5,3491.4 704.3,3491.4 704.3,3908.6 	"/>
	<polygon id="room_2705" class="st1" points="833,3780 704.3,3780 704.3,3908.6 833,3908.6 833,3780 	"/>
	<polygon id="room_2710" class="st1" points="704.3,3519.3 833,3519.3 833,3780 704.3,3780 704.3,3519.3 	"/>
	<polygon id="room_2EB" class="st1" points="849.4,3519.3 704.3,3519.3 704.3,3203.7 849.4,3203.7 849.4,3519.3 	"/>
	<polygon id="room_2SB" class="st1" points="961.5,3519.3 849.4,3519.3 849.4,3203.7 961.5,3203.7 961.5,3519.3 	"/>
	<polygon id="room_2700" class="st1" points="1902.4,3513.6 1331.1,3513.6 1331.1,3909.4 1902.4,3909.4 1902.4,3513.6 	"/>
	<polygon id="room_2UA" class="st1" points="2034.9,3513.6 1902.4,3513.6 1902.4,3909.4 2034.9,3909.4 2034.9,3513.6 	"/>
	<polygon id="room_2TA" class="st1" points="1616.7,3358.6 2034.9,3358.6 2034.9,3513.6 1616.7,3513.6 1616.7,3358.6 	"/>
	<polygon id="room_2692" class="st1" points="1616.7,3203.7 2034.9,3203.7 2034.9,3358.6 1616.7,3358.6 1616.7,3203.7 	"/>
	<polygon id="room_2EA" class="st1" points="1206,3513.6 1616.7,3513.6 1616.7,3203.7 1206,3203.7 1206,3513.6 	"/>
	<polygon id="room_2SA" class="st1" points="2410.2,3513.6 2543.4,3513.6 2543.4,3203.7 2410.2,3203.7 2410.2,3513.6 	"/>
	<polygon id="room_2525" class="st1" points="1041.6,2973.4 792.1,2973.4 792.1,2800.9 1041.6,2800.9 1041.6,2973.4 	"/>
	<polygon id="room_2530" class="st1" points="949.5,3115.6 792.1,3115.6 792.1,2973.4 949.5,2973.4 949.5,3115.6 	"/>
	<polygon id="room_2535" class="st1" points="1111.2,3115.6 949.5,3115.6 949.5,2973.4 1111.2,2973.4 1111.2,3115.6 	"/>
	<polygon id="room_2555" class="st1" points="1407.2,2957.7 1298.2,2957.7 1298.2,3115.6 1407.2,3115.6 1407.2,2957.7 	"/>
	<polygon id="room_2540" class="st1" points="1407.2,2800.9 1298.2,2800.9 1298.2,2957.7 1407.2,2957.7 1407.2,2800.9 	"/>
	<polygon id="room_2545" class="st1" points="1520,2957.7 1407.2,2957.7 1407.2,2800.9 1520,2800.9 1520,2957.7 	"/>
	<polygon id="room_2550" class="st1" points="1520,3115.6 1407.2,3115.6 1407.2,2957.7 1520,2957.7 1520,3115.6 	"/>
	<polygon id="room_2575" class="st1" points="1715.6,2957.7 1606.6,2957.7 1606.6,3115.6 1715.6,3115.6 1715.6,2957.7 	"/>
	<polygon id="room_2560" class="st1" points="1715.6,2800.9 1606.6,2800.9 1606.6,2957.7 1715.6,2957.7 1715.6,2800.9 	"/>
	<polygon id="room_2565" class="st1" points="1828.4,2957.7 1715.6,2957.7 1715.6,2800.9 1828.4,2800.9 1828.4,2957.7 	"/>
	<polygon id="room_2570" class="st1" points="1828.4,3115.6 1715.6,3115.6 1715.6,2957.7 1828.4,2957.7 1828.4,3115.6 	"/>
	<polygon id="room_2595" class="st1" points="2023.9,2957.7 1914.9,2957.7 1914.9,3115.6 2023.9,3115.6 2023.9,2957.7 	"/>
	<polygon id="room_2580" class="st1" points="2023.9,2800.9 1914.9,2800.9 1914.9,2957.7 2023.9,2957.7 2023.9,2800.9 	"/>
	<polygon id="room_2585" class="st1" points="2136.7,2957.7 2023.9,2957.7 2023.9,2800.9 2136.7,2800.9 2136.7,2957.7 	"/>
	<polygon id="room_2590" class="st1" points="2136.7,3115.6 2023.9,3115.6 2023.9,2957.7 2136.7,2957.7 2136.7,3115.6 	"/>
	<polygon id="room_2615" class="st1" points="2331.3,2957.7 2222.2,2957.7 2222.2,3115.6 2331.3,3115.6 2331.3,2957.7 	"/>
	<polygon id="room_2600" class="st1" points="2331.3,2800.9 2222.2,2800.9 2222.2,2957.7 2331.3,2957.7 2331.3,2800.9 	"/>
	<polygon id="room_2605" class="st1" points="2444,2957.7 2331.3,2957.7 2331.3,2800.9 2444,2800.9 2444,2957.7 	"/>
	<polygon id="room_2610" class="st1" points="2444,3115.6 2331.3,3115.6 2331.3,2957.7 2444,2957.7 2444,3115.6 	"/>
	<polygon id="room_2650" class="st1" points="2737.5,3358.1 2628.5,3358.1 2628.5,3516 2737.5,3516 2737.5,3358.1 	"/>
	<polygon id="room_2635" class="st1" points="2737.5,3201.3 2628.5,3201.3 2628.5,3358.1 2737.5,3358.1 2737.5,3201.3 	"/>
	<polygon id="room_2640" class="st1" points="2850.3,3358.1 2737.5,3358.1 2737.5,3201.3 2850.3,3201.3 2850.3,3358.1 	"/>
	<polygon id="room_2645" class="st1" points="2850.3,3516 2737.5,3516 2737.5,3358.1 2850.3,3358.1 2850.3,3516 	"/>
	<polygon id="room_2620" class="st1" points="2600.9,2957.7 2845.2,2957.7 2845.2,2800.9 2600.9,2800.9 2600.9,2957.7 	"/>
	<polygon id="room_2625" class="st1" points="2690.2,3112.8 2845.2,3112.8 2845.2,2957.7 2690.2,2957.7 2690.2,3112.8 	"/>
	<polygon id="room_2630" class="st1" points="2535.1,3112.8 2690.2,3112.8 2690.2,2957.7 2535.1,2957.7 2535.1,3112.8 	"/>
	<polygon id="room_2655" class="st1" points="2690.2,3909.4 2845.2,3909.4 2845.2,3669.7 2690.2,3669.7 2690.2,3909.4 	"/>
	<polygon id="room_2660" class="st1" points="2535.1,3909.4 2690.2,3909.4 2690.2,3669.7 2535.1,3669.7 2535.1,3909.4 	"/>
	<polygon id="room_2690" class="st1" points="2130.7,3516 2410.2,3516 2410.2,3203.7 2130.7,3203.7 2130.7,3516 	"/>
	<polygon id="room_2675" class="st1" points="2285.6,3754.7 2130.7,3754.7 2130.7,3599.8 2285.6,3599.8 2285.6,3754.7 	"/>
	<polygon id="room_2680" class="st1" points="2440.5,3754.7 2285.6,3754.7 2285.6,3599.8 2440.5,3599.8 2440.5,3754.7 	"/>
	<polygon id="room_2670" class="st1" points="2285.6,3909.6 2130.7,3909.6 2130.7,3754.7 2285.6,3754.7 2285.6,3909.6 	"/>
	<polygon id="room_2665" class="st1" points="2440.5,3909.6 2285.6,3909.6 2285.6,3754.7 2440.5,3754.7 2440.5,3909.6 	"/>
	<polygon id="room_3400" class="st1" points="704.3,793.2 458.5,793.2 458.5,620.6 704.3,620.6 704.3,793.2 	"/>
	<polygon id="room_3410" class="st1" points="704.3,989.4 458.5,989.4 458.5,793.2 704.3,793.2 704.3,989.4 	"/>
	<polygon id="room_3420" class="st1" points="704.3,1148.8 458.5,1148.8 458.5,989.4 704.3,989.4 704.3,1148.8 	"/>
	<polygon id="room_3430" class="st1" points="704.3,1311.2 458.5,1311.2 458.5,1148.8 704.3,1148.8 704.3,1311.2 	"/>
	<polygon id="room_3440" class="st1" points="704.3,1728.4 458.5,1728.4 458.5,1311.2 704.3,1311.2 704.3,1728.4 	"/>
	<polygon id="room_3460" class="st1" points="833,1599.8 704.3,1599.8 704.3,1728.4 833,1728.4 833,1599.8 	"/>
	<polygon id="room_3450" class="st1" points="704.3,1339 833,1339 833,1599.8 704.3,1599.8 704.3,1339 	"/>
	<polygon id="room_3EB" class="st1" points="849.4,1339 704.3,1339 704.3,1023.5 849.4,1023.5 849.4,1339 	"/>
	<polygon id="room_3SB" class="st1" points="961.5,1339 849.4,1339 849.4,1023.5 961.5,1023.5 961.5,1339 	"/>
	<polygon id="room_3515" class="st1" points="1407.2,777.5 1298.2,777.5 1298.2,935.4 1407.2,935.4 1407.2,777.5 	"/>
	<polygon id="room_3500" class="st1" points="1407.2,620.6 1298.2,620.6 1298.2,777.5 1407.2,777.5 1407.2,620.6 	"/>
	<polygon id="room_3505" class="st1" points="1520,777.5 1407.2,777.5 1407.2,620.6 1520,620.6 1520,777.5 	"/>
	<polygon id="room_3510" class="st1" points="1520,935.4 1407.2,935.4 1407.2,777.5 1520,777.5 1520,935.4 	"/>
	<polygon id="room_3535" class="st1" points="1715.6,777.5 1606.6,777.5 1606.6,935.4 1715.6,935.4 1715.6,777.5 	"/>
	<polygon id="room_3520" class="st1" points="1715.6,620.6 1606.6,620.6 1606.6,777.5 1715.6,777.5 1715.6,620.6 	"/>
	<polygon id="room_3525" class="st1" points="1828.4,777.5 1715.6,777.5 1715.6,620.6 1828.4,620.6 1828.4,777.5 	"/>
	<polygon id="room_3530" class="st1" points="1828.4,935.4 1715.6,935.4 1715.6,777.5 1828.4,777.5 1828.4,935.4 	"/>
	<polygon id="room_3555" class="st1" points="2023.9,777.5 1914.9,777.5 1914.9,935.4 2023.9,935.4 2023.9,777.5 	"/>
	<polygon id="room_3540" class="st1" points="2023.9,620.6 1914.9,620.6 1914.9,777.5 2023.9,777.5 2023.9,620.6 	"/>
	<polygon id="room_3545" class="st1" points="2136.7,777.5 2023.9,777.5 2023.9,620.6 2136.7,620.6 2136.7,777.5 	"/>
	<polygon id="room_3550" class="st1" points="2136.7,935.4 2023.9,935.4 2023.9,777.5 2136.7,777.5 2136.7,935.4 	"/>
	<polygon id="room_3350" class="st1" points="1539.3,2068 1858.1,2068 1858.1,1815.6 1539.3,1815.6 1539.3,2068 	"/>
	<polygon id="room_3340" class="st1" points="1377.5,2068 1539.3,2068 1539.3,1815.6 1377.5,1815.6 1377.5,2068 	"/>
	<polygon id="room_3330" class="st1" points="887.9,2068 1377.5,2068 1377.5,1815.6 887.9,1815.6 887.9,2068 	"/>
	<polygon id="room_3310" class="st1" points="367.8,2068 568.4,2068 568.4,1815.6 367.8,1815.6 367.8,2068 	"/>
	<polygon id="room_3300" class="st1" points="367.8,1686.3 115,1686.3 115,2068 367.8,2068 367.8,1686.3 	"/>
	<polygon id="room_3700" class="st1" points="1902.4,1333.4 1331.1,1333.4 1331.1,1729.2 1902.4,1729.2 1902.4,1333.4 	"/>
	<polygon id="room_3UA" class="st1" points="2034.9,1333.4 1902.4,1333.4 1902.4,1729.2 2034.9,1729.2 2034.9,1333.4 	"/>
	<polygon id="room_3TA" class="st1" points="1616.7,1178.4 2034.9,1178.4 2034.9,1333.4 1616.7,1333.4 1616.7,1178.4 	"/>
	<polygon id="room_3600" class="st1" points="1616.7,1023.5 2034.9,1023.5 2034.9,1178.4 1616.7,1178.4 1616.7,1023.5 	"/>
	<polygon id="room_3EA" class="st1" points="1206,1333.4 1616.7,1333.4 1616.7,1023.5 1206,1023.5 1206,1333.4 	"/>
	<polygon id="room_3360" class="st1" points="1858.1,2068 2024.1,2068 2024.1,1815.6 1858.1,1815.6 1858.1,2068 	"/>
	<polygon id="room_3320" class="st1" points="887.9,2068 568.4,2068 568.4,1815.6 887.9,1815.6 887.9,2068 	"/>
	<polygon id="room_3230" class="st1" points="115,1493.7 367.8,1493.7 367.8,1686.3 115,1686.3 115,1493.7 	"/>
	<polygon id="room_3220" class="st1" points="115,1093.3 367.8,1093.3 367.8,1493.7 115,1493.7 115,1093.3 	"/>
	<polygon id="room_3210" class="st1" points="115,927.4 367.8,927.4 367.8,1093.3 115,1093.3 115,927.4 	"/>
	<polygon id="room_3200" class="st1" points="115,535.1 367.8,535.1 367.8,927.4 115,927.4 115,535.1 	"/>
	<polygon id="room_3000" class="st1" points="593.6,535.1 115,535.1 115,268 593.6,268 593.6,535.1 	"/>
	<polygon id="room_3100" class="st1" points="762.7,535.1 593.6,535.1 593.6,268 762.7,268 762.7,535.1 	"/>
	<polygon id="room_3110" class="st1" points="925.4,535.1 762.7,535.1 762.7,268 925.4,268 925.4,535.1 	"/>
	<polygon id="room_3120" class="st1" points="1309.8,535.1 925.4,535.1 925.4,268 1309.8,268 1309.8,535.1 	"/>
	<polygon id="room_3130" class="st1" points="1638.3,535.1 1309.8,535.1 1309.8,268 1638.3,268 1638.3,535.1 	"/>
	<polygon id="room_3140" class="st1" points="1799.4,535.1 1638.3,535.1 1638.3,268 1799.4,268 1799.4,535.1 	"/>
	<polygon id="room_3150" class="st1" points="1962.1,535.1 1799.4,535.1 1799.4,268 1962.1,268 1962.1,535.1 	"/>
	<polygon id="room_3160" class="st1" points="2277.9,535.1 1962.1,535.1 1962.1,268 2277.9,268 2277.9,535.1 	"/>
	<polygon id="room_3370" class="st1" points="2345.9,2068 2024.1,2068 2024.1,1815.6 2345.9,1815.6 2345.9,2068 	"/>
	<polygon id="room_3FA" class="st1" points="2277.9,268 2277.9,1815.6 2345.9,1815.6 2345.9,2068 3185,2068 3185,268 2277.9,268 	
		"/>
	<polygon id="room_3SA" class="st1" points="2410.2,1333.4 2543.4,1333.4 2543.4,1023.5 2410.2,1023.5 2410.2,1333.4 	"/>
</g>
<g id="Foreground">
	<g id="room_Layer_12">
		<text transform="matrix(1 0 0 1 75 174.7406)" class="st2 st3">Floor 3</text>
		<text transform="matrix(1 0 0 1 75 2352.175)" class="st2 st3">Floor 2</text>
		<text transform="matrix(1 0 0 1 75 4558.1025)" class="st2 st3">Floor 1</text>
	</g>
	<g id="Layer_14">
		<g class="st4">
			
				<rect x="2444.5" y="1149.5" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -109.7135 2096.3289)" class="st5" width="62.2" height="62.2"/>
			<polygon class="st5" points="2506.7,1023.5 2543.4,1060.2 2543.4,1023.5 			"/>
			<polygon class="st5" points="2410.2,1023.5 2410.2,1059.2 2445.9,1023.5 			"/>
			<polygon class="st5" points="2463.5,1023.5 2410.2,1076.7 2410.2,1119.2 2476.3,1053.1 2543.4,1120.2 2543.4,1077.7 
				2489.1,1023.5 			"/>
			<polygon class="st5" points="2410.2,1136.7 2410.2,1179.2 2476.3,1113.1 2543.2,1180 2543.4,1179.9 2543.4,1137.7 2476.3,1070.6 
							"/>
			<polygon class="st5" points="2476.2,1247 2410.2,1181 2410.2,1223.4 2476.2,1289.5 2543.4,1222.3 2543.4,1180.2 2543.2,1180 			
				"/>
			<polygon class="st5" points="2543.4,1180.2 2543.4,1179.9 2543.2,1180 			"/>
			<polygon class="st5" points="2543.4,1180.2 2543.4,1179.9 2543.2,1180 			"/>
			<polygon class="st5" points="2410.2,1241 2410.2,1283.4 2460.2,1333.4 2492.3,1333.4 2543.4,1282.3 2543.4,1239.9 2476.2,1307 
							"/>
			<polygon class="st5" points="2543.4,1333.4 2543.4,1299.9 2509.9,1333.4 			"/>
			<polygon class="st5" points="2410.2,1333.4 2442.6,1333.4 2410.2,1301 			"/>
		</g>
		<g class="st4">
			
				<rect x="2444.5" y="3330.1" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -1651.6281 2735.0107)" class="st5" width="62.2" height="62.2"/>
			<polygon class="st5" points="2506.7,3204.1 2543.4,3240.8 2543.4,3204.1 			"/>
			<polygon class="st5" points="2410.2,3204.1 2410.2,3239.8 2445.9,3204.1 			"/>
			<polygon class="st5" points="2463.5,3204.1 2410.2,3257.3 2410.2,3299.8 2476.3,3233.7 2543.4,3300.8 2543.4,3258.3 
				2489.1,3204.1 			"/>
			<polygon class="st5" points="2410.2,3317.3 2410.2,3359.8 2476.3,3293.7 2543.2,3360.6 2543.4,3360.5 2543.4,3318.3 
				2476.3,3251.2 			"/>
			<polygon class="st5" points="2476.2,3427.6 2410.2,3361.6 2410.2,3404 2476.2,3470.1 2543.4,3402.9 2543.4,3360.8 2543.2,3360.6 
							"/>
			<polygon class="st5" points="2543.4,3360.8 2543.4,3360.5 2543.2,3360.6 			"/>
			<polygon class="st5" points="2543.4,3360.8 2543.4,3360.5 2543.2,3360.6 			"/>
			<polygon class="st5" points="2410.2,3421.6 2410.2,3464 2460.2,3514 2492.3,3514 2543.4,3462.9 2543.4,3420.5 2476.2,3487.6 			
				"/>
			<polygon class="st5" points="2543.4,3514 2543.4,3480.5 2509.9,3514 			"/>
			<polygon class="st5" points="2410.2,3514 2442.6,3514 2410.2,3481.6 			"/>
		</g>
		<g class="st4">
			
				<rect x="2444.5" y="5536.7" transform="matrix(0.7071 -0.7071 0.7071 0.7071 -3211.9697 3381.3254)" class="st5" width="62.2" height="62.2"/>
			<polygon class="st5" points="2506.7,5410.7 2543.4,5447.4 2543.4,5410.7 			"/>
			<polygon class="st5" points="2410.2,5410.7 2410.2,5446.4 2445.9,5410.7 			"/>
			<polygon class="st5" points="2463.5,5410.7 2410.2,5464 2410.2,5506.4 2476.3,5440.3 2543.4,5507.4 2543.4,5465 2489.1,5410.7 
							"/>
			<polygon class="st5" points="2410.2,5524 2410.2,5566.4 2476.3,5500.3 2543.2,5567.3 2543.4,5567.1 2543.4,5525 2476.3,5457.9 
							"/>
			<polygon class="st5" points="2476.2,5634.3 2410.2,5568.3 2410.2,5610.7 2476.2,5676.7 2543.4,5609.6 2543.4,5567.4 
				2543.2,5567.3 			"/>
			<polygon class="st5" points="2543.4,5567.4 2543.4,5567.1 2543.2,5567.3 			"/>
			<polygon class="st5" points="2543.4,5567.4 2543.4,5567.1 2543.2,5567.3 			"/>
			<polygon class="st5" points="2410.2,5628.3 2410.2,5670.7 2460.2,5720.6 2492.3,5720.6 2543.4,5669.6 2543.4,5627.1 
				2476.2,5694.3 			"/>
			<polygon class="st5" points="2543.4,5720.6 2543.4,5687.1 2509.9,5720.6 			"/>
			<polygon class="st5" points="2410.2,5720.6 2442.6,5720.6 2410.2,5688.3 			"/>
		</g>
		<g class="st4">
			<polygon class="st5" points="775.6,5526 727.7,5570.8 775.6,5615.6 823.6,5570.8 			"/>
			<polygon class="st5" points="809.5,5410.7 849.4,5448.1 849.4,5410.7 			"/>
			<polygon class="st5" points="704.3,5410.7 704.3,5447.1 743.2,5410.7 			"/>
			<polygon class="st5" points="762.4,5410.7 704.3,5465 704.3,5508.2 776.4,5440.9 849.4,5509.2 849.4,5466 790.3,5410.7 			"/>
			<polygon class="st5" points="704.3,5526.1 704.3,5569.3 776.4,5502 849.3,5570.2 849.4,5570.1 849.4,5527.1 776.4,5458.8 			"/>
			<polygon class="st5" points="776.3,5638.5 704.3,5571.2 704.3,5614.4 776.3,5681.7 849.4,5613.3 849.4,5570.4 849.3,5570.2 			
				"/>
			<polygon class="st5" points="849.4,5570.4 849.4,5570.1 849.3,5570.2 			"/>
			<polygon class="st5" points="849.4,5570.4 849.4,5570.1 849.3,5570.2 			"/>
			<polygon class="st5" points="704.3,5632.4 704.3,5675.6 758.8,5726.5 793.8,5726.5 849.4,5674.4 849.4,5631.2 776.3,5699.6 			
				"/>
			<polygon class="st5" points="849.4,5726.5 849.4,5692.3 812.9,5726.5 			"/>
			<polygon class="st5" points="704.3,5726.5 739.6,5726.5 704.3,5693.5 			"/>
		</g>
		<g class="st4">
			<polygon class="st5" points="775.6,3318.8 727.7,3363.6 775.6,3408.4 823.6,3363.6 			"/>
			<polygon class="st5" points="809.5,3203.5 849.4,3240.9 849.4,3203.5 			"/>
			<polygon class="st5" points="704.3,3203.5 704.3,3239.9 743.2,3203.5 			"/>
			<polygon class="st5" points="762.4,3203.5 704.3,3257.8 704.3,3301 776.4,3233.7 849.4,3302 849.4,3258.8 790.3,3203.5 			"/>
			<polygon class="st5" points="704.3,3318.9 704.3,3362.1 776.4,3294.8 849.3,3363 849.4,3362.8 849.4,3319.9 776.4,3251.6 			"/>
			<polygon class="st5" points="776.3,3431.3 704.3,3364 704.3,3407.2 776.3,3474.5 849.4,3406.1 849.4,3363.1 849.3,3363 			"/>
			<polygon class="st5" points="849.4,3363.1 849.4,3362.8 849.3,3363 			"/>
			<polygon class="st5" points="849.4,3363.1 849.4,3362.8 849.3,3363 			"/>
			<polygon class="st5" points="704.3,3425.1 704.3,3468.3 758.8,3519.2 793.8,3519.2 849.4,3467.2 849.4,3424 776.3,3492.4 			"/>
			<polygon class="st5" points="849.4,3519.2 849.4,3485.1 812.9,3519.2 			"/>
			<polygon class="st5" points="704.3,3519.2 739.6,3519.2 704.3,3486.3 			"/>
		</g>
		<g class="st4">
			<polygon class="st5" points="775.6,1138.7 727.7,1183.6 775.6,1228.4 823.6,1183.6 			"/>
			<polygon class="st5" points="809.5,1023.5 849.4,1060.9 849.4,1023.5 			"/>
			<polygon class="st5" points="704.3,1023.5 704.3,1059.9 743.2,1023.5 			"/>
			<polygon class="st5" points="762.4,1023.5 704.3,1077.8 704.3,1121 776.4,1053.6 849.4,1122 849.4,1078.8 790.3,1023.5 			"/>
			<polygon class="st5" points="704.3,1138.9 704.3,1182.1 776.4,1114.8 849.3,1183 849.4,1182.8 849.4,1139.9 776.4,1071.5 			"/>
			<polygon class="st5" points="776.3,1251.3 704.3,1184 704.3,1227.2 776.3,1294.5 849.4,1226.1 849.4,1183.1 849.3,1183 			"/>
			<polygon class="st5" points="849.4,1183.1 849.4,1182.8 849.3,1183 			"/>
			<polygon class="st5" points="849.4,1183.1 849.4,1182.8 849.3,1183 			"/>
			<polygon class="st5" points="704.3,1245.1 704.3,1288.3 758.8,1339.2 793.8,1339.2 849.4,1287.2 849.4,1244 776.3,1312.4 			"/>
			<polygon class="st5" points="849.4,1339.2 849.4,1305.1 812.9,1339.2 			"/>
			<polygon class="st5" points="704.3,1339.2 739.6,1339.2 704.3,1306.2 			"/>
		</g>
	</g>
	<g id="Layer_15">
		<polygon id="room_1" class="st6" points="1062.7,4626.5 900.3,4626.5 900.3,4606.5 1062.7,4606.5 1062.7,4626.5 		"/>
		<polygon id="room_1" class="st6" points="2492.7,4626.5 2330.3,4626.5 2330.3,4606.5 2492.7,4606.5 2492.7,4626.5 		"/>
		<polygon id="room_1" class="st6" points="1062.7,6508.8 900.3,6508.8 900.3,6488.8 1062.7,6488.8 1062.7,6508.8 		"/>
		<polygon id="room_1" class="st6" points="2492.7,6508.8 2330.3,6508.8 2330.3,6488.8 2492.7,6488.8 2492.7,6508.8 		"/>
	</g>
</g>
</svg>
    
<script src="https://d3js.org/d3-dsv.v1.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://cdn.rawgit.com/Gmousse/dataframe-js/master/dist/dataframe-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.js"></script>
<script>

	/* Globals */
	var self = this;
	var DataFrame = dfjs.DataFrame;

	/* Array Item Removal Utility */
	function remove( array, item ) {
	    var found_index = array.indexOf( item );
	    while ( found_index !== -1 ) {
	        array.splice( found_index, 1 );
	        found_index = array.indexOf( item );
	    }
	}
	
	/* Data Parsing */
	function resultsToDataFrame( csv, columns ) {
		
		// Reconstruct header row in csv data
		if ( columns ) {
			var headers = [];
			columns.forEach( function( column ) {
			    headers.push( column.label );
			});
			csv = '"' + headers.join( '","' ) + '"\n' + csv;
		}
		
		// Parse into DataFrame
		var data = new DataFrame( d3.csvParse( csv ) );
		
		// Cast columns based on type information
		if ( columns ) {
			columns.forEach( function( column ) {
				switch( column.type ) {
					case 'number':
						data = data.cast( column.label, Number )
						break;
					case 'date':
					case 'datetime':
						data = data.cast( column.label, ( val ) => Date.parse( val ) );
						break;
				}
			});
		}
		
		return data;
		
	}
	
	
	/* Register Message Handlers for VA Input */
	function onMessage( evt ) {
		console.log( evt )
		if ( evt && evt.data ) {
			var columns = null;
			if (evt.data.meta) {
				self.visualName = evt.data.meta.name;
				self.dataName = evt.data.meta.dataName;
				columns = evt.data.meta.columns;
			}
		    var csv = evt.data.results;

			update( resultsToDataFrame( csv, columns ) );
		}
	}
	
	if (window.addEventListener) {
		// For standards-compliant web browsers
		window.addEventListener("message", onMessage, false);
	} else {
		window.attachEvent("onmessage", onMessage);
	}
	
	/* Create Tips */
	$( 'svg circle, svg path' ).qtip({
	    content: {
	        text: function( event, api ) {
	        	return '<strong>' + $(this).attr('data-gate') + '</strong><br />' + $(this).attr('data-resp'); 
	        }
	    },
	    position: {
	        my: 'bottom center',
	        at: 'top center',
	        viewport: $('svg'),
	        adjust: {
	            method: 'shift'
	        }
	    },
	    style: {
	        classes: 'qtip-bootstrap'
	    }
	});
	
	/* Test Data */
	test_data_paths = new DataFrame([
		[ 17.0,458,'Gate 4','Ranger Stop 5', 'Ranger Stop' ],
		[ 0.0,304,'Ranger Stop 0','Ranger Stop 0', 'Ranger Stop' ],
		[ 207.0,1,'Camping 0','Camping 2', 'Camping' ],
		[ 127.0,212,'Entrance 1','Camping 3', 'Camping' ],
		[ 0.0,793,'Camping 0','Camping 0', 'Camping' ],
		[ 147.0,17,'General Gate 2','Gate 3', 'Gate' ],
		[ 200.0,5,'Gate 1','Camping 2', 'Camping' ],
		[ 17.0,23,'Entrance 3','Gate 6', 'Gate' ],
		[ 181.0,25,'Gate 0','Gate 6', 'Gate' ],
		[ 16.0,67,'Gate 0','Gate 1', 'Gate' ],
		[ 91.0,10,'General Gate 5','Gate 4', 'Gate' ],
		[ 75.0,261,'Gate 4','Gate 5', 'Gate' ],
		[ 74.0,12,'General Gate 7','Gate 7', 'Gate' ],
		[ 85.0,1096,'General Gate 6','Camping 7', 'Camping' ],
		[ 0.0,170,'Camping 1','Camping 1', 'Camping' ],
		[ 17.0,458,'Ranger Stop 5','Gate 4', 'Gate' ],
		[ 0.0,1,'General Gate 7','General Gate 7', 'General Gate' ],
		[ 105.0,2,'General Gate 5','Entrance 2', 'Entrance' ],
		[ 184.0,622,'General Gate 7','Camping 0', 'Camping' ],
		[ 166.0,247,'Gate 7','Gate 6', 'Gate' ],
		[ 75.0,220,'Gate 2','Ranger Stop 1', 'Ranger Stop' ],
		[ 193.0,219,'Entrance 2','Camping 6', 'Camping' ],
		[ 67.0,8,'General Gate 6','Gate 4', 'Gate' ],
		[ 26.0,7248,'General Gate 1','Ranger Stop 2', 'Ranger Stop' ],
		[ 173.0,98,'Camping 0','Entrance 1', 'Entrance' ],
		[ 163.0,20,'Camping 1','Entrance 2', 'Entrance' ],
		[ 0.0,450,'Ranger Stop 6','Ranger Stop 6', 'Ranger Stop' ],
		[ 131.0,208,'Gate 2','General Gate 7', 'General Gate' ],
		[ 0.0,20,'Entrance 4','Entrance 4', 'Entrance' ],
		[ 107.0,236,'General Gate 3','Gate 4', 'Gate' ],
		[ 0.0,1140,'Camping 2','Camping 2', 'Camping' ],
		[ 85.0,1094,'Camping 7','General Gate 6', 'General Gate' ],
	], ['Response1', 'Response2', 'From Gate', 'Gate', 'Gate Type']);
	
	test_data = new DataFrame([
	    [ 'General Gate 7', 'Gate 7', 15 ],
	    [ 'General Gate 6', 'Gate 6', 25 ],
	    [ 'General Gate 5', 'Entrance 0', 50 ],
	    [ 'General Gate 4', 'Entrance 0', 35 ],
	    [ 'General Gate 3', 'Entrance 0', 30 ],
	    [ 'General Gate 2', 'Entrance 0', 25 ],
	    [ 'General Gate 1', 'Entrance 0', 15 ],
	    [ 'General Gate 0', 'Entrance 0', 25 ],
	    [ 'Camping 8', 'Entrance 0', 5 ],
	    [ 'Camping 7', 'Entrance 0', 15 ],
	    [ 'Camping 6', 'Entrance 0', 25 ],
	    [ 'Camping 5', 'Entrance 0', 35 ],
	    [ 'Camping 4', 'Entrance 0', 45 ],
	    [ 'Camping 3', 'Entrance 0', 55 ],
	    [ 'Camping 2', 'Entrance 0', 30 ],
	    [ 'Camping 1', 'Entrance 0', 25 ],
	    [ 'Camping 0', 'Entrance 0', 50 ],
	    [ 'Gate 8', 'Entrance 0', 5 ],
	    [ 'Gate 7', 'Entrance 0', 15 ],
	    [ 'Gate 6', 'Entrance 0', 5 ],
	    [ 'Gate 5', 'Entrance 0', 25 ],
	    [ 'Gate 4', 'Entrance 0', 5 ],
	    [ 'Gate 3', 'Entrance 0', 45 ],
	    [ 'Gate 2', 'Entrance 0', 15 ],
	    [ 'Gate 1', 'Entrance 0', 55 ],
	    [ 'Gate 0', 'Entrance 0', 65 ],
	    [ 'Ranger Stop 7', 'Entrance 0', 10 ],
	    [ 'Ranger Stop 6', 'Entrance 0', 20 ],
	    [ 'Ranger Stop 5', 'Entrance 0', 15 ],
	    [ 'Ranger Stop 4', 'Entrance 0', 35 ],
	    [ 'Ranger Stop 3', 'Entrance 0', 5 ],
	    [ 'Ranger Stop 2', 'Entrance 0', 25 ],
	    [ 'Ranger Stop 1', 'Entrance 0', 50 ],
	    [ 'Ranger Stop 0', 'Entrance 0', 45 ],
	    [ 'Entrance 4', 'Entrance 0', 55 ],
	    [ 'Entrance 3', 'Entrance 0', 35 ],
	    [ 'Entrance 2', 'Entrance 0', 5 ],
	    [ 'Entrance 1', 'Entrance 0', 25 ],
	    [ 'Entrance 0', 'Entrance 0', 15 ],
	    [ 'Ranger Base', 'Entrance 0', 75 ],
	], ['Gate', 'From Gate', 'Frequency']);
	
	/*  Main Update Function  */
	GATE_COL = 'Gate';
	FROM_GATE_COL = 'From Gate';
	GATEID_COL = 'Gate Id';
	FROM_GATEID_COL = 'From Gate Id';
	GATE_TYPE = 'Gate Type'
	RESP_COL = 'Response';
	BUBBLE_MIN = 1;
	BUBBLE_MAX = 9;
	BUBBLE_MIN_AREA = Math.PI * Math.pow( BUBBLE_MIN, 2 );
	BUBBLE_MAX_AREA = Math.PI * Math.pow( BUBBLE_MAX, 2 );
	STROKE_MIN = 0.25;
	STROKE_MAX = 5;
	COLORS = [ '#00929f', '#f08000', '#90b328', '#3d5aae', '#ffca39', '#a6427c', '#9c2910', '#736519' ];
	function update( data ) {

		//data = test_data_paths
		
		columns = data.listColumns();
		remove( columns, GATE_COL );
		remove( columns, FROM_GATE_COL );
		
		
		
		data = data.withColumn( GATEID_COL, ( row ) => row.get(GATE_COL).replace( / /g, '_' ) );
		data = data.withColumn( FROM_GATEID_COL, ( row ) => row.get(FROM_GATE_COL).replace( / /g, '_' ) );
		
		groups = null;
		if ( columns.includes( GATE_TYPE ) ) {
			remove( columns, GATE_TYPE );
			groups = data.unique( GATE_TYPE ).toArray( GATE_TYPE );
			color_map = Object();
			for ( i = 0; i < groups.length; i += 1 ) {
				color_map[groups[i]] = COLORS[i%COLORS.length]
			}
		}
		
		data = data.filter( row => row.get(FROM_GATE_COL) != '(missing)' )
		data = data.filter( row => row.get(GATE_COL) != row.get(FROM_GATE_COL) )
		
		data.show( 100 );
		
		RESP_COL = columns[0];
		resp_min = data.stat.min( RESP_COL );
		resp_max = data.stat.max( RESP_COL );
		resp_range = resp_max - resp_min;
		
		document.querySelectorAll( 'svg circle' ).forEach( function ( bubble ) {
			bubble.setAttribute( 'r', 2 );
			bubble.setAttribute( 'fill', '#eeeeee' );
		});
		
		document.querySelectorAll( 'svg path' ).forEach( function ( path ) {
			path.setAttribute( 'stroke-width', '0.1pt' );
			path.setAttribute( 'stroke', '#cccccc' );
		});
		
		function sizeBubble( row ) {
			bubble_ratio = ( row.get( RESP_COL ) - resp_min ) / resp_range;
			bubble_area = BUBBLE_MIN_AREA + ( bubble_ratio * ( BUBBLE_MAX_AREA - BUBBLE_MIN_AREA ) );
			bubble_radius = Math.sqrt( bubble_area / Math.PI );
			bubble_svg = document.getElementById( row.get( GATEID_COL ) )
			/* bubble_svg.setAttribute( 'r', bubble_radius ); */
			bubble_svg.setAttribute( 'r', 2 );
			bubble_svg.setAttribute( 'data-gate', row.get( GATE_COL ) );
			bubble_svg.setAttribute( 'data-resp', row.get( RESP_COL ) );
			if ( groups ) {
				bubble_svg.setAttribute( 'fill', color_map[row.get( GATE_TYPE )] );
			} else {
				bubble_svg.setAttribute( 'fill', COLORS[0] );
			}
		}
		data.map( sizeBubble );
		
		function sizePaths( row ) {
			if ( row.get( FROM_GATEID_COL ) != row.get( GATEID_COL ) ) {
				stroke_ratio = ( row.get( RESP_COL ) - resp_min ) / resp_range;
				stroke_width = STROKE_MIN + ( stroke_ratio * ( STROKE_MAX - STROKE_MIN ) );
				stroke_id = row.get( FROM_GATEID_COL ) + '_to_' + row.get( GATEID_COL )
				stroke_svg = document.getElementById( stroke_id )
				console.log( stroke_id )
				stroke_svg.setAttribute( 'stroke-width', stroke_width );
				if ( groups ) {
					stroke_svg.setAttribute( 'stroke', color_map[row.get( GATE_TYPE )] );
				} else {
					stroke_svg.setAttribute( 'stroke', COLORS[0] );
				}
				stroke_svg.setAttribute( 'data-gate', stroke_id );
				stroke_svg.setAttribute( 'data-resp', row.get( RESP_COL ) );
			}
		}
		data.map( sizePaths );
		
	}

	//update();
	
</script>
</body>
</html>
